<html xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:MSHelp="http://msdn.microsoft.com/mshelp" xmlns:mshelp="http://msdn.microsoft.com/mshelp" xmlns:ddue="http://ddue.schemas.microsoft.com/authoring/2003/5" xmlns:msxsl="urn:schemas-microsoft-com:xslt"><head><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=UTF-8" /><META NAME="save" CONTENT="history" /><title>Connecting with sqlcmd</title><meta name="Language" content="en-us" /><meta name="Microsoft.Help.Id" content="61a2ec0d-1bcb-4231-bea0-cff866c21463" /><meta name="Description" content="The sqlcmdhttp://go.microsoft.com/fwlink/?LinkID=154481 utility is available in the Microsoft SQL Server ODBC Driver for Linux." /><meta name="Microsoft.Help.ContentType" content="Concepts" /><link rel="stylesheet" type="text/css" href="../local/Classic.css" /><script type="text/javascript" src="../scripts/EventUtilities.js">&amp;nbsp;</script><script type="text/javascript" src="../scripts/SplitScreen.js">&amp;nbsp;</script><script type="text/javascript" src="../scripts/Dropdown.js">&amp;nbsp;</script><script type="text/javascript" src="../scripts/script_manifold.js">&amp;nbsp;</script><script type="text/javascript" src="../scripts/script_feedBack.js">&amp;nbsp;</script><script type="text/javascript" src="../scripts/CheckboxMenu.js">&amp;nbsp;</script><script type="text/javascript" src="../scripts/CommonUtilities.js">&amp;nbsp;</script><script type="text/javascript" src="../local/script_main.js">&amp;nbsp;</script></head><body><div id="header"><table id="bottomTable" cellpadding="0" cellspacing="0"><tr><td align="left"><span id="headerBold">Connecting with sqlcmd</span></td></tr></table><table id="gradientTable"><tr><td class="nsrBottom" background="../icons/gradient.gif" /></tr></table></div><div id="mainSection"><div id="mainBody"><font color="DarkGray"><p /></font><div class="introduction"><p>The <a href="http://go.microsoft.com/fwlink/?LinkID=154481">sqlcmd</a> utility is available in the Microsoft SQL Server ODBC Driver for Linux.</p><p>The following commands show first how to use Windows Authentication and second, how to use SQL Server Authentication.</p><div class="sampleCode"><span codeLanguage="other"><pre>sqlcmd –E –Sxxx.xxx.xxx.xxx
sqlcmd –Sxxx.xxx.xxx.xxx –Uxxx -Pxxx</pre></span></div></div><h1 class="heading">sqlcmd Options that are Available</h1><div id="sectionSection0" class="section" name="collapseableSection" style=""><p>In the current release, the following sqlcmd options are available:</p><dl class="authored"><dt>-?</dt><dd><p>Display sqlcmd usage.</p></dd><dt>-a</dt><dd><p>Request a packet size.</p></dd><dt>-b</dt><dd><p>Terminate batch job if there is an error.</p></dd><dt>-c <span class="parameter" sdata="paramReference">batch_terminator</span></dt><dd><p>Specify the batch terminator.</p></dd><dt>-C</dt><dd><p>Trust server certificate.</p></dd><dt>-d <span class="parameter" sdata="paramReference">database_name</span></dt><dd><p>Issue a USE <span class="parameter" sdata="paramReference">database_name</span> statement when you start sqlcmd.</p></dd><dt>-D</dt><dd><p>Causes the value passed to the sqlcmd -S option to be interpreted as a data source name (DSN). For more information, see "DSN Support in sqlcmd and bcp" at the end of this topic.</p></dd><dt>-e</dt><dd><p>Write input scripts to the standard output device (stdout).</p></dd><dt>-E</dt><dd><p>Use trusted connection, integrated authentication.</p><p>For more information about making trusted connections using integrated authentication from a Linux client, see the following:</p><ul><li><p><a href="http://www.interopsystems.com/LearningCenter/Native_LDAP_native_Kerberos_and_AD_services.htm">Native LDAP, native Kerberos and Windows Server 2003 R2 AD Services and schema for cross platform identity management</a></p></li><li><p><a href="http://technet.microsoft.com/en-us/magazine/2008.12.linux.aspx#id0060048">Authenticate Linux Clients with Active Directory</a></p></li><li><p><a href="http://www.cyberciti.biz/faq/linux-creating-or-adding-new-network-alias-to-a-network-card-nic/">Linux Creating or Adding New Network Alias To a Network Card (NIC)</a></p></li></ul></dd><dt>-h <span class="parameter" sdata="paramReference">number_of_rows</span></dt><dd><p>Specify the number of rows to print between the column headings.</p></dd><dt>-H</dt><dd><p>Specify a workstation name.</p></dd><dt>-i <span class="parameter" sdata="paramReference">input_file</span>[,<span class="parameter" sdata="paramReference">input_file</span>[,…]]</dt><dd><p>Identify the file that contains a batch of SQL statements or stored procedures.</p></dd><dt>-I</dt><dd><p>Set the SET QUOTED_IDENTIFIER connection option to ON.</p></dd><dt>-k</dt><dd><p>Remove or replace control characters.</p></dd><dt>-l</dt><dd><p>Specify the number of seconds before a sqlcmd login to the ODBC driver times out when you try to connect to a server.</p></dd><dt>-m <span class="parameter" sdata="paramReference">error_level</span></dt><dd><p>Control which error messages are sent to stdout.</p></dd><dt>-N</dt><dd><p>Encrypt connection.</p></dd><dt>-o <span class="parameter" sdata="paramReference">output_file</span></dt><dd><p>Identify the file that receives output from sqlcmd.</p></dd><dt>-p</dt><dd><p>Print performance statistics for every result set.</p></dd><dt>-P</dt><dd><p>Specify a user password.</p></dd><dt>-q <span class="parameter" sdata="paramReference">commandline_query</span></dt><dd><p>Execute a query when sqlcmd starts, but does not exit sqlcmd when the query has finished running.</p></dd><dt>-Q <span class="parameter" sdata="paramReference">commandline_query</span></dt><dd><p>Execute a query when sqlcmd starts and exit sqlcmd when the query has finished running.</p></dd><dt>-r</dt><dd><p>Redirect error message output to the screen (stderr).</p></dd><dt>-R</dt><dd><p>Set the SQL Server ODBC driver to use client regional settings when it converts currency, and date and time data to character data. Currently only uses en_US (US English) formatting; additional locales will be supported later.</p></dd><dt>-s <span class="parameter" sdata="paramReference">column_separator_char</span></dt><dd><p>Specify the column-separator character.</p></dd><dt>-S [<span class="parameter" sdata="paramReference">protocol</span>:] <span class="parameter" sdata="paramReference">server</span>[<span sdata="langKeyword" value="\"><span class="keyword">\</span></span><span class="parameter" sdata="paramReference">instance_name</span>][<b>,</b><span class="parameter" sdata="paramReference">port</span>]</dt><dd><p>Specify the instance of SQL Server to which to connect. Or, if -D is used, a DSN. When using the SQL Server ODBC Driver for Linux, -S is required. For the SQL Server ODBC Driver for Linux, <b>tcp</b> is the only valid protocol.</p></dd><dt>-t <span class="parameter" sdata="paramReference">query_timeout</span></dt><dd><p>Specify the number of seconds before a command (or SQL statement) times out.</p></dd><dt>-u</dt><dd><p>Specify that output_file is stored in Unicode format, regardless of the format of input_file.</p></dd><dt>-U <span class="parameter" sdata="paramReference">login_id</span></dt><dd><p>Specify a user login ID.</p></dd><dt>-v</dt><dd><p>Create a sqlcmd scripting variable that can be used in a sqlcmd script.</p></dd><dt>-V <span class="parameter" sdata="paramReference">error_severity_level</span></dt><dd><p>Control the severity level that is used to set the ERRORLEVEL variable.</p></dd><dt>-w <span class="parameter" sdata="paramReference">column_width</span></dt><dd><p>Specify the screen width for output.</p></dd><dt>-W</dt><dd><p>Remove trailing spaces from a column.</p></dd><dt>-x</dt><dd><p>Disable variable substitution.</p></dd><dt>-X</dt><dd><p>Disable commands, startup script, and environment variables.</p></dd><dt>-y <span class="parameter" sdata="paramReference">variable_length_type_display_width</span></dt><dd><p>Set the sqlcmd scripting variable SQLCMDMAXFIXEDTYPEWIDTH.</p></dd><dt>-Y <span class="parameter" sdata="paramReference">fixed_length_type_display_width</span></dt><dd><p>Set the sqlcmd scripting variable SQLCMDMAXVARTYPEWIDTH.</p></dd></dl><p>In the current release, the following sqlcmd commands are available:</p><ul class="noBullet"><li><p>[:]!!</p></li><li><p>:Connect</p></li><li><p>:Error</p></li><li><p>[:]EXIT</p></li><li><p>GO [<i>count</i>]</p></li><li><p>:Help</p></li><li><p>:List</p></li><li><p>:Listvar</p></li><li><p>:On Error</p></li><li><p>:Out</p></li><li><p>:Perftrace</p></li><li><p>[:]QUIT</p></li><li><p>:r</p></li><li><p>:RESET</p></li><li><p>:setvar</p></li></ul></div><h1 class="heading">sqlcmd Options that are Not Available</h1><div id="sectionSection1" class="section" name="collapseableSection" style=""><p>In the current release, the following sqlcmd options are not available:</p><dl class="authored"><dt>-A</dt><dd><p>Log in to SQL Server with a Dedicated Administrator Connection (DAC). For information on how to make a dedicated administrator connection (DAC), see <span sdata="link"><a href="0cc8686c-e27b-4963-b674-dc420fcbd3d2.htm">Programming Guidelines</a></span>.</p></dd><dt>-f <span class="parameter" sdata="paramReference">code_page</span></dt><dd><p>Specify the input and output code pages.</p></dd><dt>-L</dt><dd><p>List the locally configured server computers, and the names of the server computers that are broadcasting on the network.</p></dd><dt>-z <span class="parameter" sdata="paramReference">password</span></dt><dd><p>Change password.</p></dd><dt>-Z <span class="parameter" sdata="paramReference">password</span></dt><dd><p>Change password and exit.</p></dd></dl><p>In the current release, the following sqlcmd commands are not available:</p><ul class="noBullet"><li><p>:ED</p></li><li><p>:ServerList</p></li><li><p>:XML</p></li></ul></div><h1 class="heading">DSN Support in sqlcmd and bcp</h1><div id="sectionSection2" class="section" name="collapseableSection" style=""><p>You can specify a data source name (DSN) instead of a server name in the <b>sqlcmd</b> or <b>bcp</b><b>-S</b> option (or <b>sqlcmd</b> :Connect command) if you specify the -D option. -D causes the -S option to retrieve the specified DSN.  <b>sqlcmd</b> or <b>bcp</b> will then connect to the server specified in the DSN.</p><p>System DSNs are stored in the odbc.ini file in the ODBC SysConfigDir directory (/etc/odbc.ini on standard installations). User DSNs are stored in .odbc.ini in a user's home directory (~/.odbc.ini).</p><p>The following entries are supported in a DSN on Linux:</p><ul><li><p><b>Database=</b><span class="parameter" sdata="paramReference">database_name</span></p></li><li><p><b>Driver=SQL Server Native Client 11.0</b></p></li><li><p><b>Server=</b><span class="parameter" sdata="paramReference">server_name_or_IP_address</span></p></li><li><p><b>Trusted_Connection=yes</b>|<b>no</b></p></li></ul><p>In a DSN, only the DRIVER entry is required, but to connect to a server, <b>sqlcmd</b> or <b>bcp</b> will need the value in the SERVER entry.</p><p>If the same option is specified in both the DSN and the <b>sqlcmd</b> or <b>bcp</b> command line, the <b>sqlcmd</b> or <b>bcp</b> option will override the value used in the DSN. For example, if the DSN has a DATABASE entry and the <b>sqlcmd</b> command line includes -d, the value passed to <b>-d</b> will be used. If <b>Trusted_Connection=yes</b> is specified in the DSN, Kerberos authentication will be used, and user name (<b>–U</b>) and password (<b>–P</b>) will be ignored, if provided.</p><p>Existing scripts that invoke <b>isql</b> can be modified to use <b>sqlcmd</b> by defining the following alias: <b>alias isql="sqlcmd –D"</b>.</p></div><span id="seeAlsoSpan"><h1 class="heading">See Also</h1></span><div id="seeAlsoSection" class="section" name="collapseableSection" style=""><div class="seeAlsoStyle"><span sdata="link"><a href="a0ff66dd-7c8f-49f2-94c6-9d1b900d8aea.htm">Welcome to the Microsoft SQL Server ODBC Driver for Linux</a></span></div></div></div><div id="footer" class="section"><span id="copyrightarea"><br /><p><a href="f0fb316e-315e-4144-9837-67053801f83c.htm">© 2012 Microsoft.  All rights reserved.</a></p></span></div></div></body></html>