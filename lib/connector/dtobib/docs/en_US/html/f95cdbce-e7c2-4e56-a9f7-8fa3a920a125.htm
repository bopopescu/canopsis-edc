<html xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:MSHelp="http://msdn.microsoft.com/mshelp" xmlns:mshelp="http://msdn.microsoft.com/mshelp" xmlns:ddue="http://ddue.schemas.microsoft.com/authoring/2003/5" xmlns:msxsl="urn:schemas-microsoft-com:xslt"><head><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=UTF-8" /><META NAME="save" CONTENT="history" /><title>Connection String Keywords and Data Source Names (DSNs)</title><meta name="Language" content="en-us" /><meta name="Microsoft.Help.Id" content="f95cdbce-e7c2-4e56-a9f7-8fa3a920a125" /><meta name="Description" content="This topic discusses how you can create a connection to a SQL Server database." /><meta name="Microsoft.Help.ContentType" content="Concepts" /><link rel="stylesheet" type="text/css" href="../local/Classic.css" /><script type="text/javascript" src="../scripts/EventUtilities.js">&amp;nbsp;</script><script type="text/javascript" src="../scripts/SplitScreen.js">&amp;nbsp;</script><script type="text/javascript" src="../scripts/Dropdown.js">&amp;nbsp;</script><script type="text/javascript" src="../scripts/script_manifold.js">&amp;nbsp;</script><script type="text/javascript" src="../scripts/script_feedBack.js">&amp;nbsp;</script><script type="text/javascript" src="../scripts/CheckboxMenu.js">&amp;nbsp;</script><script type="text/javascript" src="../scripts/CommonUtilities.js">&amp;nbsp;</script><script type="text/javascript" src="../local/script_main.js">&amp;nbsp;</script></head><body><div id="header"><table id="bottomTable" cellpadding="0" cellspacing="0"><tr><td align="left"><span id="headerBold">Connection String Keywords and Data Source Names (DSNs)</span></td></tr></table><table id="gradientTable"><tr><td class="nsrBottom" background="../icons/gradient.gif" /></tr></table></div><div id="mainSection"><div id="mainBody"><font color="DarkGray"><p /></font><div class="introduction"><p>This topic discusses how you can create a connection to a SQL Server database.</p></div><h1 class="heading">Connection Properties</h1><div id="sectionSection0" class="section" name="collapseableSection" style=""><p>The ODBC section in <a href="http://go.microsoft.com/fwlink/?LinkID=126696">Using Connection String Keywords with SQL Server Native Client</a> lists all the connection string keywords. However, for this release of the Microsoft SQL Server ODBC Driver for Linux, only the following connection string keywords are valid: </p><div class="tableSection"><table width="50%" cellspacing="2" cellpadding="5" frame="lhs"><tr><td><p>Addr</p></td><td><p>Address</p></td><td><p>AutoTranslate</p></td><td><p>Database</p></td><td><p>Driver</p></td></tr><tr><td><p>DSN</p></td><td><p>Encrypt</p></td><td><p>FileDSN</p></td><td><p>MARS_Connection</p></td><td><p>PWD</p></td></tr><tr><td><p>Server</p></td><td><p>Trusted_Connection</p></td><td><p>TrustServerCertificate</p></td><td><p>UID</p></td><td><p>WSID</p></td></tr></table></div><p>The value passed to the <span sdata="langKeyword" value="Driver"><span class="keyword">Driver</span></span> keyword can either be the name that you used when installing the driver (see <span sdata="link"><a href="f78b81ed-5214-43ec-a600-9bfe51c5745a.htm">Installing the Microsoft SQL Server ODBC Driver for Linux</a></span>) or it can be the path to the driver, which was also specified in the template .ini file used to install the Microsoft SQL Server ODBC Driver for Linux.</p><p>To create a DSN, create (if necessary) and edit the file <b>~/.odbc.ini</b> (odbc.ini in your home directory). The following is a sample file that shows the required entries for a DSN:</p><div class="sampleCode"><span codeLanguage="other"><pre>[MSSQLTest]
Driver = SQL Server Native Client 11.0
Server = [<i>protocol</i>:]<i>server</i></pre></span></div><p>You can optionally specify the protocol to connect to the server. For example, <b>Server = tcp:</b><span class="parameter" sdata="paramReference">servername</span>.</p><p>Optionally, you can add the DSN information to a template file and execute the following command: <b>odbcinst -i -s -f</b><span class="parameter" sdata="paramReference"> template_file</span></p><p>You can verify that your driver is working by using isql to test the connection. Or, you can use this command: <b>bcp master.INFORMATION_SCHEMA.TABLES out OutFile.dat -S &lt;server&gt; -U &lt;name&gt; -P &lt;password&gt;</b></p></div><h1 class="heading">Using Secure Sockets Layer (SSL)</h1><div id="sectionSection1" class="section" name="collapseableSection" style=""><p>The SQL Server ODBC Driver for Linux lets you use Secure Sockets Layer (SSL) to encrypt connections to SQL Server, which protects SQL Server user names and passwords over the network.  SSL also verifies the identity of the server to protect against man-in-the-middle (MITM) attacks.</p><p>Enabling encryption increases security at the expense of performance.</p><p>For more information, see <a href="http://go.microsoft.com/fwlink/?LinkId=220900">Encrypting Connections to SQL Server</a>.</p><p>Regardless of the settings for <span sdata="langKeyword" value="Encrypt"><span class="keyword">Encrypt</span></span> and <span sdata="langKeyword" value="TrustServerCertificate"><span class="keyword">TrustServerCertificate</span></span>, the server login credentials (user name and password) are always encrypted. The following table shows the effect of the <span sdata="langKeyword" value="Encrypt"><span class="keyword">Encrypt</span></span> and <span sdata="langKeyword" value="TrustServerCertificate"><span class="keyword">TrustServerCertificate</span></span> settings.</p><div class="tableSection"><table width="50%" cellspacing="2" cellpadding="5" frame="lhs"><tr><th><p /></th><th><p><span sdata="langKeyword" value="TrustServerCertificate=false"><span class="keyword">TrustServerCertificate=false</span></span></p></th><th><p><span sdata="langKeyword" value="TrustServerCertificate=true"><span class="keyword">TrustServerCertificate=true</span></span></p></th></tr><tr><td><p><span sdata="langKeyword" value="Encrypt=no"><span class="keyword">Encrypt=no</span></span></p></td><td><p>Server certificate is not checked.</p><p>Data sent between client and server is not encrypted.</p></td><td><p>Server certificate is not checked.</p><p>Data sent between client and server is not encrypted.</p></td></tr><tr><td><p><span sdata="langKeyword" value="Encrypt=yes"><span class="keyword">Encrypt=yes</span></span></p></td><td><p>Server certificate is checked.</p><p>Data sent between client and server is encrypted.</p><p>The name (or IP address) in a Subject Common Name (CN) or Subject Alternative Name (SAN) in a SQL Server SSL certificate should exactly match the server name (or IP address) specified in the connection string.</p></td><td><p>Server certificate is not checked.</p><p>Data sent between client and server is encrypted.</p></td></tr></table></div><p>By default, encrypted connections always verify the server’s certificate. However, if the server you are connecting to has a self-signed certificate, you must also add the TrustServerCertificateOption:</p><div class="sampleCode"><span codeLanguage="other"><pre>Driver='SQL Server Native Client 11.0';Server=ServerNameHere;Encrypt=YES;TrustServerCertificate=YES</pre></span></div><p>SSL uses the OpenSSL library. The following table shows the minimum supported versions of OpenSSL and the default Certificate Trust Store locations for each platform:</p><div class="tableSection"><table width="50%" cellspacing="2" cellpadding="5" frame="lhs"><tr><th><p>Platform</p></th><th><p>Minimum OpenSSL Version</p></th><th><p>Default Certificate Trust Store Location</p></th></tr><tr><td><p>Red Hat Enterprise Linux 5</p></td><td><p>0.9.8e</p></td><td><p>/etc/pki/tls/certs.pem</p></td></tr><tr><td><p>Red Hat Enterprise Linux 6</p></td><td><p>1.0.0-10</p></td><td><p>/etc/pki/tls/certs.pem</p></td></tr></table></div><p>You can use <span sdata="langKeyword" value="SQLDriverConnect"><span class="keyword">SQLDriverConnect</span></span> to specify encryption in the connection string.</p></div><span id="seeAlsoSpan"><h1 class="heading">See Also</h1></span><div id="seeAlsoSection" class="section" name="collapseableSection" style=""><div class="seeAlsoStyle"><span sdata="link"><a href="a0ff66dd-7c8f-49f2-94c6-9d1b900d8aea.htm">Welcome to the Microsoft SQL Server ODBC Driver for Linux</a></span></div></div></div><div id="footer" class="section"><span id="copyrightarea"><br /><p><a href="f0fb316e-315e-4144-9837-67053801f83c.htm">© 2012 Microsoft.  All rights reserved.</a></p></span></div></div></body></html>