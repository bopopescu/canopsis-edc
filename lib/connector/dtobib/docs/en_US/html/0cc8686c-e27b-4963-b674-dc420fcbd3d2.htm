<html xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:MSHelp="http://msdn.microsoft.com/mshelp" xmlns:mshelp="http://msdn.microsoft.com/mshelp" xmlns:ddue="http://ddue.schemas.microsoft.com/authoring/2003/5" xmlns:msxsl="urn:schemas-microsoft-com:xslt"><head><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=UTF-8" /><META NAME="save" CONTENT="history" /><title>Programming Guidelines</title><meta name="Language" content="en-us" /><meta name="Microsoft.Help.Id" content="0cc8686c-e27b-4963-b674-dc420fcbd3d2" /><meta name="Description" content="The programming features of the Microsoft SQL Server ODBC Driver for Linux are based on ODBC in SQL Server Native Client (SQL Server Native Client (ODBC)http://go.microsoft.com/fwlink/?LinkID=134151)." /><meta name="Microsoft.Help.ContentType" content="Concepts" /><link rel="stylesheet" type="text/css" href="../local/Classic.css" /><script type="text/javascript" src="../scripts/EventUtilities.js">&amp;nbsp;</script><script type="text/javascript" src="../scripts/SplitScreen.js">&amp;nbsp;</script><script type="text/javascript" src="../scripts/Dropdown.js">&amp;nbsp;</script><script type="text/javascript" src="../scripts/script_manifold.js">&amp;nbsp;</script><script type="text/javascript" src="../scripts/script_feedBack.js">&amp;nbsp;</script><script type="text/javascript" src="../scripts/CheckboxMenu.js">&amp;nbsp;</script><script type="text/javascript" src="../scripts/CommonUtilities.js">&amp;nbsp;</script><script type="text/javascript" src="../local/script_main.js">&amp;nbsp;</script></head><body><div id="header"><table id="bottomTable" cellpadding="0" cellspacing="0"><tr><td align="left"><span id="headerBold">Programming Guidelines</span></td></tr></table><table id="gradientTable"><tr><td class="nsrBottom" background="../icons/gradient.gif" /></tr></table></div><div id="mainSection"><div id="mainBody"><font color="DarkGray"><p /></font><div class="introduction"><p>The programming features of the Microsoft SQL Server ODBC Driver for Linux are based on ODBC in SQL Server Native Client (<a href="http://go.microsoft.com/fwlink/?LinkID=134151">SQL Server Native Client (ODBC)</a>). SQL Server Native Client is based on ODBC in Windows Data Access Components (<a href="http://go.microsoft.com/fwlink/?LinkID=45250">ODBC Programmer's Reference</a>).</p><p>Your ODBC application can use Multiple Active Result Sets (MARS) and other SQL Server specific features by including /opt/microsoft/sqlncli/11.0.1790.0/sqlncli.h after including the unixODBC headers (sql.h, sqlext.h, sqltypes.h, and sqlucode.h). Then use the same symbolic names for SQL Server specific items that you would in your Windows ODBC applications.</p></div><h1 class="heading">Available Features</h1><div id="sectionSection0" class="section" name="collapseableSection" style=""><p>In the SQL Server Native Client documentation for ODBC (<a href="http://go.microsoft.com/fwlink/?LinkID=134151">SQL Server Native Client (ODBC)</a>), the following sections in the documentation should be valid when using the Microsoft SQL Server ODBC Driver for Linux:</p><ul><li><p><a href="http://msdn.microsoft.com/en-us/library/ms131692.aspx">Communicating with SQL Server (ODBC)</a></p></li><li><p><a href="http://msdn.microsoft.com/en-us/library/ms130822.aspx">connection and query timeout support</a></p></li><li><p><a href="http://msdn.microsoft.com/en-us/library/ms130794(SQL.110).aspx">cursors</a></p></li><li><p><a href="http://msdn.microsoft.com/en-us/library/bb677319.aspx">Date/Time Improvements (ODBC)</a></p></li><li><p><a href="http://msdn.microsoft.com/en-us/library/ms131677.aspx">Executing Queries (ODBC)</a></p></li><li><p><a href="http://msdn.microsoft.com/en-us/library/ms131289.aspx">Handling Errors and Messages</a></p></li><li><p><a href="http://msdn.microsoft.com/en-us/library/cc280459.aspx">Kerberos authentication</a></p></li><li><p><a href="http://msdn.microsoft.com/en-us/library/bb677316.aspx">Large CLR User-Defined Types (ODBC)</a></p></li><li><p><a href="http://msdn.microsoft.com/en-us/library/ms131706.aspx">Performing Transactions (ODBC) (except distributed transactions)</a></p></li><li><p><a href="http://msdn.microsoft.com/en-us/library/ms130812.aspx">Processing Results (ODBC)</a></p></li><li><p><a href="http://msdn.microsoft.com/en-us/library/ms131440.aspx">Running Stored Procedures</a></p></li><li><p><a href="http://msdn.microsoft.com/en-us/library/cc280357.aspx">Sparse Columns Support (ODBC)</a></p></li><li><p><a href="http://msdn.microsoft.com/en-us/library/ms131691.aspx">SSL encryption</a></p></li><li><p><a href="http://msdn.microsoft.com/en-us/library/ff878241.aspx">UTF-8 and UTF-16 for command and data API</a></p></li><li><p><a href="http://msdn.microsoft.com/en-us/library/ms131490.aspx">Using Catalog Functions</a></p></li></ul></div><h1 class="heading">Features That Are Not Available</h1><div id="sectionSection1" class="section" name="collapseableSection" style=""><p>The following features are not available in this release of the Microsoft SQL Server ODBC Driver for Linux:</p><ul><li><p>bulk copy function (bcp_batch, for example)</p></li><li><p>distributed transactions (SQL_ATTR_ENLIST_IN_DTC attribute is not supported)</p></li><li><p>database mirroring</p></li><li><p>FILESTREAM</p></li><li><p>profiling ODBC driver performance, discussed in <a href="http://go.microsoft.com/fwlink/?LinkId=234099">SQLSetConnectAttr</a>, the following performance-related connection attributes: </p><ul><li><p>SQL_COPT_SS_PERF_DATA</p></li><li><p>SQL_COPT_SS_PERF_DATA_LOG</p></li><li><p>SQL_COPT_SS_PERF_DATA_LOG_NOW</p></li><li><p>SQL_COPT_SS_PERF_QUERY</p></li><li><p>SQL_COPT_SS_PERF_QUERY_INTERVAL</p></li><li><p>SQL_COPT_SS_PERF_QUERY_LOG</p></li></ul></li><li><p>SQLBrowseConnect</p></li><li><p>table-valued parameters (TVPs)</p></li><li><p>The SQL_ATTR_ENLIST_IN_DTC attribute is not supported.</p></li><li><p>C interval types such as SQL_C_INTERVAL_YEAR_TO_MONTH (documented in <a href="http://msdn.microsoft.com/en-us/library/ms716351(VS.85).aspx">Data Type Identifiers and Descriptors</a>) are not currently supported.</p></li></ul></div><h1 class="heading">Character Support</h1><div id="sectionSection2" class="section" name="collapseableSection" style=""><p>SQLCHAR data must be UTF-8. SQLWCHAR data must be UTF-16LE (Little Endian).</p><p>If you have not called SQLDescribeParameter to specify a SQL type on the server, the driver will use the SQL type specified in the <span class="parameter" sdata="paramReference">ParameterType</span> parameter of SQLBindParameter. If a narrow character SQL type, such as SQL_VARCHAR, is specified in SQLBindParameter, the driver will convert the supplied UTF-8 data to the default SQL Server code page, which is typically code page 1252. This might result in data loss.  If some characters cannot be represented in code page 1252 they will be converted to question mark characters ('?'). To avoid this data loss, specify a Unicode SQL character type, such as SQL_NVARCHAR, in SQLBindParameter. In this case, the supplied Unicode data in UTF-8 encoding will be converted to UTF-16 without loss of precision.</p><p>There is a text-encoding conversion difference between Windows and the iconv library on Linux, which is used by the SQL Server ODBC Driver for Linux. Text data that is encoded in codepage 1255 (Hebrew) has one code point (0xCA) that behaves differently on the two platforms. Converting to Unicode on Windows produces a UTF-16 code point of 0x05BA. Converting to Unicode on Linux produces a UTF-16 code point of 0x00CA. This should not be an issue because code point 0xCA in codepage 1255 is not defined to be a character, but this can affect an application that includes logic that uses this undefined code point.</p><p>When UTF-8 multibyte characters or UTF-16 surrogates are split across SQLPutData buffers, it results in data corruption. You must use buffers for streaming SQLPutData that do not end in partial character encodings.</p></div><h1 class="heading">Other Issues</h1><div id="sectionSection3" class="section" name="collapseableSection" style=""><p /><ol><li><p>You can make a dedicated administrator connection (DAC) using SQL Server authentication and <span sdata="langKeyword" value="host,port"><span class="keyword">host,port</span></span>. A member of the Sysadmin role first needs to discover the DAC port. For example, if the DAC port were 33000 you could connect to it with sqlcmd as follows:</p><div class="sampleCode"><span codeLanguage="other"><pre>sqlcmd –U &lt;user&gt; -P &lt;pwd&gt; -S &lt;host&gt;,33000</pre></span></div></li><li><p>The UnixODBC driver manager returns "invalid attribute/option identifier" for all statement attributes when they are passed through SQLSetConnectAttr. On Windows, when SQLSetConnectAttr receives a statement attribute value, it causes the driver to set that value on all currently-active statements that are children of the connection handle.</p><div style="margin: .5em 1.5em .5em 1.5em"><b></b><p>In this first release of the driver, DAC connections must use SQL Server Authentication.</p></div></li></ol></div><span id="seeAlsoSpan"><h1 class="heading">See Also</h1></span><div id="seeAlsoSection" class="section" name="collapseableSection" style=""><div class="seeAlsoStyle"><span sdata="link"><a href="a0ff66dd-7c8f-49f2-94c6-9d1b900d8aea.htm">Welcome to the Microsoft SQL Server ODBC Driver for Linux</a></span></div></div></div><div id="footer" class="section"><span id="copyrightarea"><br /><p><a href="f0fb316e-315e-4144-9837-67053801f83c.htm">© 2012 Microsoft.  All rights reserved.</a></p></span></div></div></body></html>